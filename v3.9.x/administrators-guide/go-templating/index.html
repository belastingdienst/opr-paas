
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Dutch Tax Office">
      
      
        <link rel="canonical" href="https://belastingdienst.github.io/opr-paas/v3.9.x/administrators-guide/go-templating/">
      
      
        <link rel="prev" href="../feature-flags/">
      
      
        <link rel="next" href="../install/">
      
      
      <link rel="icon" href="../../about/branding/paas-logo-v1-32x32px.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Go Template options - opr-paas</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Go Template options - opr-paas" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://belastingdienst.github.io/opr-paas/v3.9.x/assets/images/social/administrators-guide/go-templating.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://belastingdienst.github.io/opr-paas/v3.9.x/administrators-guide/go-templating/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Go Template options - opr-paas" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://belastingdienst.github.io/opr-paas/v3.9.x/assets/images/social/administrators-guide/go-templating.png" >
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#go-template" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../.."> 
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="opr-paas" class="md-header__button md-logo" aria-label="opr-paas" data-md-component="logo">
      
  <img src="../../about/branding/paas-logo-v1-180x180px.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            opr-paas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Go Template options
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/belastingdienst/opr-paas" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    opr-paas
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../overview/" class="md-tabs__link">
          
  
  
    
  
  Overview

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Administrator Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../user-guide/01_basic-usage/" class="md-tabs__link">
          
  
  
    
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../development-guide/" class="md-tabs__link">
          
  
  
    
  
  Developer Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about/branding/" class="md-tabs__link">
          
  
  
    
  
  About

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="opr-paas" class="md-nav__button md-logo" aria-label="opr-paas" data-md-component="logo">
      
  <img src="../../about/branding/paas-logo-v1-180x180px.png" alt="logo">

    </a>
    opr-paas
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/belastingdienst/opr-paas" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    opr-paas
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../overview/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Administrator Guide
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Administrator Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../capabilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring capabilities
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring the operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Options to have additional logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../feature-flags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring feature flags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Go Template options
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Go Template options
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#template" class="md-nav__link">
    <span class="md-ellipsis">
      Template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#behavior-of-multivalued-and-single-valued-results" class="md-nav__link">
    <span class="md-ellipsis">
      Behavior of multivalued and single valued results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#developing-go-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Developing Go Templates
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing the Operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../secrets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring Secret encryption
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../v1alpha1-conversion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Converting v1alpha1 to v1alpha2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../validations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validating field names
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../cluster-wide-quotas/basic-usage/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Cluster wide quotas
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../user-guide/01_basic-usage/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../development-guide/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../about/branding/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#template" class="md-nav__link">
    <span class="md-ellipsis">
      Template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#behavior-of-multivalued-and-single-valued-results" class="md-nav__link">
    <span class="md-ellipsis">
      Behavior of multivalued and single valued results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#developing-go-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Developing Go Templates
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/belastingdienst/opr-paas/edit/main/docs/administrators-guide/go-templating.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="go-template">Go Template<a class="headerlink" href="#go-template" title="Permanent link">&para;</a></h1>
<h2 id="template">Template<a class="headerlink" href="#template" title="Permanent link">&para;</a></h2>
<p>The template feature allows administrators to dynamically generate values from information in Paas and/or PaasConfig.
This provides flexibility for other organizations using the Paas operator with other business logic.</p>
<h2 id="syntax">Syntax<a class="headerlink" href="#syntax" title="Permanent link">&para;</a></h2>
<p>Template options support standard Go Template syntax, allowing all values from the Paas and PaasConfig to be referenced. See more examples below.
In addition to the default Go Template functions, we've added support for
<a href="https://docs.atom.codes/sprout/registries/list-of-all-registries">all Sprout</a> Go Template functions.</p>
<h2 id="behavior-of-multivalued-and-single-valued-results">Behavior of multivalued and single valued results<a class="headerlink" href="#behavior-of-multivalued-and-single-valued-results" title="Permanent link">&para;</a></h2>
<p>Depending on the result of the Go Template, one of three things can happen:</p>
<ul>
<li>if the result can be parsed as a list:</li>
<li>The key of the resulting item (label or custom field) is derived from the name of the template, suffixed with an underscore and an integer (number in the list of this item).</li>
<li>The value of the resulting item is the direct value of the item in the list</li>
<li>if the result can be parsed as map:</li>
<li>The key of the resulting item (label or custom field) is derived from the name of the template, suffixed with an underscore and the key of the map item</li>
<li>The value of the resulting item is the direct value of the map item</li>
<li>If the result is not parsable as list or map:</li>
<li>The key of the resulting item (label or custom field) is derived from the name of the template</li>
<li>The value of the resulting item is derived from the exact returned string</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you need to return a map or list as a single string value in a field, you have the following options:
- convert the map to a string representation using toYaml or toJson, and add quoting to make sure it is parsed as one string
- create a map with one key/value pair and set the resulting string as the value</p>
</div>
<h2 id="developing-go-templates">Developing Go Templates<a class="headerlink" href="#developing-go-templates" title="Permanent link">&para;</a></h2>
<p>For easier validation and debugging of templates, we recommend using <a href="https://repeatit.io/">Repeat It</a>, an online tool to test and validate your Go Templates.</p>
<h1 id="implementations">Implementations<a class="headerlink" href="#implementations" title="Permanent link">&para;</a></h1>
<h2 id="labels-with-go-templating">Labels with go templating<a class="headerlink" href="#labels-with-go-templating" title="Permanent link">&para;</a></h2>
<p>Administrators can define labels to be added to resources managed by a Paas.
The implementation is based on Go Templating, and has the Paas and Resource as inputs.
This feature can be used to:</p>
<ul>
<li>copy labels (or annotations) from the Paas, (or PaasConfig) to labels on the specific resource</li>
<li>use specific fields in the Paas (or PaasConfig) to define extra labels</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature replaces certain hardcoded implementations that were previously implemented.
If you want to keep the behavior, please add the following to your PaasConfig:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>apiVersion: cpet.belastingdienst.nl/v1alpha2
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>kind: PaasConfig
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>metadata:
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  name: opr-paas-config
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>spec:
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>  ...
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>  templating:
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    clusterQuotaLabels:
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>      &quot;&quot;: &#39;{{ range $key, $value := .Paas.Labels }}{{ if ne $key &quot;app.kubernetes.io/instance&quot; }}{{$key}}: {{$value}}\n{{end}}{{end}}&#39;
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    groupLabels:
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>      &quot;&quot;: &#39;{{ range $key, $value := .Paas.Labels }}{{ if ne $key &quot;app.kubernetes.io/instance&quot; }}{{$key}}: {{$value}}\n{{end}}{{end}}&#39;
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    namespaceLabels:
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>      &quot;&quot;: &#39;{{ range $key, $value := .Paas.Labels }}{{ if ne $key &quot;app.kubernetes.io/instance&quot; }}{{$key}}: {{$value}}\n{{end}}{{end}}&#39;
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>      &quot;argocd.argoproj.io/managed-by&quot;: &quot;{{ .Paas.Spec.ManagedByPaas | default .Paas.Name }}-argocd&quot;
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    roleBindingLabels:
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>      &quot;&quot;: &#39;{{ range $key, $value := .Paas.Labels }}{{ if ne $key &quot;app.kubernetes.io/instance&quot; }}{{$key}}: {{$value}}\n{{end}}{{end}}&#39;
</code></pre></div>
</div>
<h2 id="capability-fields-with-go-template">Capability fields with Go Template<a class="headerlink" href="#capability-fields-with-go-template" title="Permanent link">&para;</a></h2>
<h3 id="custom-fields-per-capability">Custom fields per capability<a class="headerlink" href="#custom-fields-per-capability" title="Permanent link">&para;</a></h3>
<p>The Paas operator allows administrator to define custom fields which can be set by requestors and end up as fields in the list generator
in the ApplicationSet that defines the Application for the capability for the Paas.</p>
<p>For more info, see <a href="../capabilities/#configuring-custom-fields">api-guide on capability custom field configuration in the Paas</a></p>
<h3 id="custom-fields-for-all-capabilities">Custom fields for all capabilities<a class="headerlink" href="#custom-fields-for-all-capabilities" title="Permanent link">&para;</a></h3>
<p>In addition to setting custom fields for specific capabilities, the Paas operator also allows administrators to define custom fields that apply to all capabilities.
There are two main differences:
1. These custom fields cannot be overruled by a custom field for a specific Paas
2. These custom fields are generically applied to all capabilities.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature replaces certain hardcoded implementations that were previously implemented.
If you want to keep the behavior, please add the following to your PaasConfig:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>apiVersion: cpet.belastingdienst.nl/v1alpha2
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>kind: PaasConfig
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>metadata:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>  name: opr-paas-config
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>spec:
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>  ...
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>  templating:
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    genericCapabilityFields:
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>      requestor: &quot;{{ .Paas.Spec.Requestor }}&quot;,
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>      service: &quot;{{ (splitn \&quot;-\&quot; 2 .Paas.Name)._0 }}&quot;,
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>      subservice: &quot;{{ (splitn \&quot;-\&quot; 2 .Paas.Name)._1 }}&quot;,
</code></pre></div>
</div>
<h1 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h1>
<p>This chapter shows some examples of Go Templates that are used in this project and explains how they work and why they are phrased as such.</p>
<h2 id="rbac-block">RBAC block<a class="headerlink" href="#rbac-block" title="Permanent link">&para;</a></h2>
<p>The following example loops through the groups in the paas spec and generates a RBAC line for every group</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-jinja highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="x">g, system:cluster-admins, role:admin</span><span class="cp">{{</span> <span class="nv">range</span> <span class="err">$</span><span class="nv">groupName</span><span class="o">,</span> <span class="err">$</span><span class="nv">group</span> <span class="o">:=</span> <span class="nv">.Paas.Spec.Groups</span> <span class="cp">}}</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="x">g, </span><span class="cp">{{</span> <span class="err">$</span><span class="nv">groupName</span> <span class="cp">}}</span><span class="x">, role:admin</span><span class="cp">{{</span><span class="nv">end</span><span class="cp">}}</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="x">...</span>
</code></pre></div>
</div>
<h2 id="reference-paasconfig-values">Reference PaasConfig values<a class="headerlink" href="#reference-paasconfig-values" title="Permanent link">&para;</a></h2>
<p>You can reference values from the PaasConfig as well by referencing <code>.Config</code>:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-jinja highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="cp">{{</span> <span class="nv">.Config.Spec.Debug</span> <span class="cp">}}</span>
</code></pre></div>
</div>
<h2 id="return-multiple-keys-as-a-map">Return multiple keys as a map<a class="headerlink" href="#return-multiple-keys-as-a-map" title="Permanent link">&para;</a></h2>
<p>Your template could return a map (using <code>key: value</code> formatting) to return multiple key/value pairs</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-jinja highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="x">debug: </span><span class="cp">{{</span> <span class="nv">.Config.Spec.Debug</span> <span class="cp">}}</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="x">argo: </span><span class="cp">{{</span> <span class="nv">.Config.Spec.ArgoEnabled</span> <span class="cp">}}</span>
</code></pre></div>
</div>
<p>This would return two key/value pairs. If name of the template would be set to <code>my_map</code>, values would have keys <code>my_map_debug</code> and <code>my_map_argo</code>.</p>
<h2 id="return-multiple-keys-as-a-list">Return multiple keys as a list<a class="headerlink" href="#return-multiple-keys-as-a-list" title="Permanent link">&para;</a></h2>
<p>Your template could return a list (using <code>- value</code> formatting) to return multiple key/value pairs.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-jinja highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="x">- </span><span class="cp">{{</span> <span class="nv">.Config.Spec.Debug</span> <span class="cp">}}</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="x">- </span><span class="cp">{{</span> <span class="nv">.Config.Spec.ArgoEnabled</span> <span class="cp">}}</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="x">- custom fields with templating is cool</span>
</code></pre></div>
</div>
<p>This would return three key/value pairs. If name of the template would be set to <code>my_list</code>, values would have keys <code>my_list_0</code> and <code>my_list_1</code>.</p>
<h2 id="adding-all-labels-except-for-a-specific-key">Adding all labels, except for a specific key<a class="headerlink" href="#adding-all-labels-except-for-a-specific-key" title="Permanent link">&para;</a></h2>
<p>Ideally this could be done using the <a href="https://masterminds.github.io/sprig/dicts.html">omit dict function</a>, but unfortunately,
the dict is implemented as map[string]any, and labels are implemented as <code>map[string]string</code> and go does not automatically convert.</p>
<p>We have used a range and if statement to create all key/value pairs one by one.
Note that the Go Template is spread across multiple lines.
This ensures that each key is placed on a separate line, and is thus correctly parsed as an individual key/value pair.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-jinja highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="cp">{{</span> <span class="nv">range</span> <span class="err">$</span><span class="nv">key</span><span class="o">,</span> <span class="err">$</span><span class="nv">value</span> <span class="o">:=</span> <span class="nv">.Paas.Labels</span> <span class="cp">}}{{</span> <span class="k">if</span> <span class="nv">ne</span> <span class="err">$</span><span class="nv">key</span> <span class="s2">&quot;app.kubernetes.io/instance&quot;</span> <span class="cp">}}{{</span><span class="err">$</span><span class="nv">key</span><span class="cp">}}</span><span class="x">: </span><span class="cp">{{</span><span class="err">$</span><span class="nv">value</span><span class="cp">}}</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="cp">{{</span><span class="nv">end</span><span class="cp">}}{{</span><span class="nv">end</span><span class="cp">}}</span>
</code></pre></div>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Tax Administration of The Netherlands, software and documentation licensed under EUPL.

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "navigation.expand", "navigation.path", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.top", "navigation.prune", "search.suggest", "search.share", "toc.follow"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>